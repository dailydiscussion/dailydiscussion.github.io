<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Target NEET-PG | INICET 2024</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans&family=Kalnia:wght@600&family=Lemon&family=Raleway:wght@700&family=Tilt+Prism&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script>
        // This script will refresh the page only once on load
        if (!sessionStorage.getItem('reloaded')) {
            sessionStorage.setItem('reloaded', 'true');
            window.onload = function() {
                location.reload(true);
            };
        }
    </script>
</head>

<body>
    <nav>
        <div class="logo">
            <h2>
                Target NEET-PG | INICET 2024
            </h2>
        </div>
    </nav>
    <main class="main animated-element">
        <div class="header">
            <h2>
                "Ready to boost your NEET PG | INICET preparation together? Start quizzing now!"
            </h2>
        </div>
        <div class="quiz">
            <h3>
                Today's Quiz - 
                <a href="https://link.marrow.com/join_custom_module/559U04NH">
                    <button>
                        Surgery MCQs
                     </button>
                </a>
            </h3>
            <h5 class="topic" style="color: gray;">
                Topic - General Surgery + Breast + Endocrine
            </h5>
        </div>
        <div class="leaderboards">
            <table id="data-table">
                <thead>
                  <tr>
                    <th>Top Performers</th>
                    <th>Overall Score</th>
                  </tr>
                </thead>
                <tbody id="table-body">
                  <!-- Table body will be dynamically populated here -->
                </tbody>
              </table>
        </div>
        <div class="tests">
            <table>
                <thead>
                    <tr>
                        <th>
                            Surgery Tests
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <a href="https://link.marrow.com/join_custom_module/559S0IFN">Topic - General Surgery + Breast + Endocrine 1</a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <a href="https://link.marrow.com/join_custom_module/559U04NH">Topic - General Surgery + Breast + Endocrine 2</a>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
    </main>
    <footer class="footer">
        <p>
            Â© Copyright 2024 | All Rights Reserved
        </p>
    </footer>

    <script>
        // Add the 'active' class to trigger the animation
        document.addEventListener('DOMContentLoaded', function () {
          document.querySelector('.animated-element').classList.add('active');
        });
      </script>
      
      <script>
        // Fetch JSON data
        fetch('data.json')
          .then(response => response.json())
          .then(data => {
            // Get the table body element
            const tableBody = document.getElementById('table-body');
      
            // Iterate through the JSON data and dynamically populate the table
            data.data.forEach((item, index) => {
              const row = tableBody.insertRow();
              const cellName = row.insertCell(0);
              const cellOverallScore = row.insertCell(1);
              const cellScoreIncrease = row.insertCell(2);
      
              cellName.textContent = item.Name;
      
              // Calculate average score and display in the "Overall Score" column
              const scores = item.Scores.map(score => parseInt(score));
              const overallScore = scores.reduce((sum, score) => sum + score, 0) / scores.length;
              cellOverallScore.textContent = overallScore.toFixed(2) + "%";

            });
          })
          .catch(error => console.error('Error fetching JSON:', error));
      </script>
    <script src="script.js"></script>

</body>

</html>
